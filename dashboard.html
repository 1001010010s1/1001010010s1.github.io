<!DOCTYPE HTML>
<html>
<head>
    <title>SOLAR - Dashboard</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
</head>
<body class="is-preload">

    <!-- Wrapper -->
    <div id="wrapper">

        <!-- Header -->
        <header id="header">
            <a href="index.html" class="logo">SOLAR</a>
        </header>

        <!-- Nav -->
        <nav id="nav">
            <ul class="links">
                <li><a href="index.html">Home</a></li>
                <li class="active"><a href="dashboard.html">Dashboard</a></li>
                <li><a href="#" onclick="logout(); return false;">Logout</a></li>
            </ul>
        </nav>

        <!-- Main -->
        <div id="main">
            <section class="post">
                <header class="major">
                    <h1>Welcome to SOLAR</h1>
                </header>

                <!-- Days Remaining Box -->
                <div class="box">
                    <h3>Subscription Status</h3>
                    <div id="daysRemaining" style="font-size: 1.5em; margin: 20px 0;"></div>
                    <div class="progress-bar">
                        <div id="daysProgress" class="progress"></div>
                    </div>
                </div>

                <!-- Download Section -->
                <div class="box">
                    <h3>Download SOLAR</h3>
                    <p>Click below to download the latest version of SOLAR software.</p>
                    <ul class="actions special">
                        <li><a href="#" onclick="downloadSolar()" class="button primary large">Download SOLAR</a></li>
                    </ul>
                </div>

                <!-- Account Settings -->
                <div class="box">
                    <h3>Account Settings</h3>
                    <ul class="actions">
                        <li><a href="#" class="button" onclick="changePassword()">Change Password</a></li>
                        <li><a href="#" class="button" onclick="extendSubscription()">Extend Subscription</a></li>
                    </ul>
                </div>
            </section>
        </div>

        <!-- Footer -->
        <footer id="footer">
            <section class="split contact">
                <section>
                    <h3>Email</h3>
                    <p>thesolarsoftware@gmail.com</p>
                </section>
                <section>
                    <h3>Social</h3>
                    <ul class="icons alt">
                        <li><a href="#" class="icon brands alt fa-twitter"><span class="label">Twitter</span></a></li>
                        <li><a href="#" class="icon brands alt fa-facebook-f"><span class="label">Facebook</span></a></li>
                        <li><a href="#" class="icon brands alt fa-instagram"><span class="label">Instagram</span></a></li>
                        <li><a href="#" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
                    </ul>
                </section>
            </section>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.scrollex.min.js"></script>
    <script src="assets/js/jquery.scrolly.min.js"></script>
    <script src="assets/js/browser.min.js"></script>
    <script src="assets/js/breakpoints.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>
    <script>
        // Add some CSS for the progress bar
        const style = document.createElement('style');
        style.textContent = `
            .progress-bar {
                width: 100%;
                height: 20px;
                background-color: #ddd;
                border-radius: 10px;
                overflow: hidden;
            }
            .progress {
                width: 0%;
                height: 100%;
                background-color: #18bfef;
                transition: width 0.5s ease-in-out;
            }
        `;
        document.head.appendChild(style);

        // Check if user is logged in
        function checkAuth() {
            const token = localStorage.getItem('solar_token');
            if (!token) {
                window.location.href = 'login.html';
            }
            return token;
        }

        // Update days remaining display
        function updateDaysDisplay() {
            const days = localStorage.getItem('solar_days');
            const daysElement = document.getElementById('daysRemaining');
            const progressElement = document.getElementById('daysProgress');
            
            if (days) {
                daysElement.textContent = `Days Remaining: ${days}`;
                // Assume 30 days is full subscription
                const percentage = (days / 30) * 100;
                progressElement.style.width = `${percentage}%`;
            }
        }

        // Download SOLAR function
        function downloadSolar() {
            const token = checkAuth();
            // Add your download logic here
            alert('Starting download...');
        }

        // Change password function
        function changePassword() {
            // Add password change logic
            alert('Password change feature coming soon!');
        }

        // Extend subscription function
        function extendSubscription() {
            // Add subscription extension logic
            alert('Subscription extension feature coming soon!');
        }

        // Logout function
        function logout() {
            localStorage.removeItem('solar_token');
            localStorage.removeItem('solar_days');
            window.location.href = 'login.html';
        }

        // Check auth and update display on page load
        document.addEventListener('DOMContentLoaded', () => {
            checkAuth();
            updateDaysDisplay();
        });
    </script>
</body>
</html>
